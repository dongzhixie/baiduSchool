<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>IFE JavaScript Task 05</title>
	<style>
		#sortDiv{
			margin:0 auto;
			margin-top: 30px;
			padding:0 200px;
		}
		#sortDiv div{
			background: #FFCE43;
			width:30px;
			float:left;
			margin-right:6px;
		}
	</style>
</head>
<body>
	<input type="text" id="input">
	<button>左侧插入</button>
	<button>右侧插入</button>
	<button>左侧删除</button>
	<button>右侧删除</button>
	<button>排序</button>
	<div id="sortDiv">
	</div>
	<script>
		var reg = /^\d{1,3}$/;
		var arr = [];
		var btn = document.getElementsByTagName("button");
		
		//右侧插入
		btn[0].onclick = function(){
			if((input.value>=10&&input.value<=100)&&reg.test(input.value)){
				arr.push(input.value);
				var div = document.createElement("div");
				div.setAttribute("style",`margin-top:${400-input.value*4}px;`);
				div.style.height = input.value*4+"px";
				sortDiv.insertBefore(div,sortDiv.children[0]);
				input.value = "";
			}else{
				alert("请输入10~100的数字")
			}
		}
		//左侧插入
		btn[1].onclick = function(){
			if((input.value>=10&&input.value<=100)&&reg.test(input.value)){
				arr.push(input.value);
				var div = document.createElement("div");
				div.setAttribute("style",`margin-top:${400-input.value*4}px;`);
				div.style.height = input.value*4+"px";
				sortDiv.appendChild(div);
				input.value = "";
			}else{
				alert("请输入10~100的数字")
			}
		}

		//左侧删除
		btn[2].onclick = function(){
			arr.splice(0,1);
			sortDiv.children[0].remove();
		}
		//右侧删除
		btn[3].onclick = function(){
			arr.splice(-1,1);
			sortDiv.children[sortDiv.children.length-1].remove();
		}
		//sort排序
		btn[4].onclick = function(){
			arr.sort(function(a,b){return a-b});
			sortDiv.innerHTML = "";
			for(var i=0;i<arr.length;i++){
				var div = document.createElement("div");
				div.setAttribute("style",`margin-top:${400-arr[i]*4}px;`);
				div.style.height = arr[i]*4+"px";
				sortDiv.appendChild(div);
			}
			console.log(arr);
		}
	</script>
</body>
</html>